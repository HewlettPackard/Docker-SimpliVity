(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{295:function(t,e,i){"use strict";i.r(e);var s=i(0),a=Object(s.a)({},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},[t._m(0),t._v(" "),i("p",[t._v("Window-related variables are shown in Table 15.")]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),i("p",[t._v("You may need to make this script available locally:")]),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),i("p",[t._v("In general, it should not be necessary to modify this file, but the variables are documented in Table 16 for the sake of completeness.")]),t._v(" "),t._m(9),t._v(" "),i("table",[t._m(10),t._v(" "),i("tbody",[t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("windows_timezone")]),t._v(" "),t._m(18),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("Defaults to "),i("code",[t._v("15")]),t._v(". Valid values are available at "),i("a",{attrs:{href:"https://msdn.microsoft.com/en-us/library/ms912391.aspx",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://msdn.microsoft.com/en-us/library/ms912391.aspx"),i("OutboundLink")],1)])])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"windows-configuration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#windows-configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" Windows configuration")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Table 15.")]),this._v(" Windows variables")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",[i("thead",[i("tr",[i("th",{staticStyle:{"text-align":"left"}},[t._v("Variable")]),t._v(" "),i("th",{staticStyle:{"text-align":"left"}},[t._v("File")]),t._v(" "),i("th",{staticStyle:{"text-align":"left"}},[t._v("Description")])])]),t._v(" "),i("tbody",[i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("win_vm_template")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("group_vars/vars")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("Name of the Windows 2016 VM Template to use. Note that this is the name from a vCenter perspective, not the hostname.")])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("win_username")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("group_vars/vars")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("Windows user name. The default is "),i("code",[t._v("Administrator")])])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("win_password")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[i("strong",[t._v("group_vars/vault")])]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("The password for the Windows account.")])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("windows_vdvs_path")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("group_vars/vars")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("Variable used to download vSphere Docker Volume Service software. This variable is combined with "),i("code",[t._v("windows_vdvs_version")]),t._v(" (below) to generate a URL of the form "),i("code",[t._v("<windows_vdvs_path>_<windows_vdvs_version>.zip")]),t._v(" to download the software. For example, to download version 0.21, set "),i("code",[t._v("windows_vdvs_path")]),t._v(" equal to "),i("code",[t._v("https://vmware.bintray.com/vDVS/vsphere-storage-for-docker_windows")]),t._v(" and "),i("code",[t._v("windows_vdvs_version")]),t._v(" equal to "),i("code",[t._v("0.21")])])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("windows_vdvs_version")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("group_vars/vars")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("Combined with "),i("code",[t._v("windows_vdvs_path")]),t._v(", this variable is used to generate the URL for downloading the software.")])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("windows_vdvs_directory")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("group_vars/vars")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("Variable used to determine where vDVS software will be unzipped and installed from. The default is "),i("code",[t._v("C:\\Users\\Administrator\\Downloads")])])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("windows_winrm_script")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("group_vars/vars")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("Variable used to determine where the "),i("code",[t._v("winrm")]),t._v(" Powershell script will be downloaded from. See the section "),i("code",[t._v("Deploying Windows workers behind a proxy")]),t._v(" for more information.")])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("docker_ee_version_windows")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[i("strong",[t._v("group_vars/vars")])]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("It is important that the version of the Docker engine running on your Windows worker nodes is the same as that running on RHEL in the rest of your cluster. You should use this variable to explicitly match up the versions. For Docker 2.1, the recommended value is "),i("code",[t._v("'18.09'")]),t._v(". If you do not explicitly set this value, you may end up with an incompatible newer version running on your Windows workers.")])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("windows_update")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("group_vars/vars")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("Variable used to determine if Windows updates are automatically downloaded when installing Docker on Windows worker nodes (in the "),i("code",[t._v("playbooks/install_docker.yml")]),t._v("). Defaults to "),i("code",[t._v("true")]),t._v(".")])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("windows_vdvs_ps")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("group_vars/vars")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("Variable used to download the PowerShell script that is used to install vDVS for Windows. This script needs to be made available locally as described in the following section.")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"configure-remoting-for-ansible"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configure-remoting-for-ansible","aria-hidden":"true"}},[this._v("#")]),this._v(" Configure remoting for Ansible")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The playbooks for deploying Windows workers rely on a Powershell script for remote access from the Ansible machine. The script "),e("code",[this._v("ConfigureRemotingForAnsible.ps1")]),this._v(" is available online on GitHub\nat https://raw.githubusercontent.com/ansible/ansible/devel/examples/scripts/ConfigureRemotingForAnsible.ps1.")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ol",[i("li",[i("p",[t._v("Download the script:")]),t._v(" "),i("div",{staticClass:"language- extra-class"},[i("pre",{pre:!0,attrs:{class:"language-text"}},[i("code",[t._v("wget https://raw.githubusercontent.com/ansible/ansible/devel/examples/scripts/ConfigureRemotingForAnsible.ps1\n")])])])]),t._v(" "),i("li",[i("p",[t._v("Deploy a local HTTP server, enabling port 80, for example:")]),t._v(" "),i("div",{staticClass:"language- extra-class"},[i("pre",{pre:!0,attrs:{class:"language-text"}},[i("code",[t._v("yum install httpd\nsystemctl enable httpd\nsystemctl start httpd\nfirewall-cmd --permanent --add-port 80/tcp --zone=public\nfirewall-cmd --reload\n")])])])]),t._v(" "),i("li",[i("p",[t._v("Copy the downloaded script to the web server:")]),t._v(" "),i("div",{staticClass:"language- extra-class"},[i("pre",{pre:!0,attrs:{class:"language-text"}},[i("code",[t._v("cp ConfigureRemotingForAnsible.ps1 /var/www/html\n")])])])]),t._v(" "),i("li",[i("p",[t._v("Configure the variable to point at the local web server, for example,")]),t._v(" "),i("div",{staticClass:"language- extra-class"},[i("pre",{pre:!0,attrs:{class:"language-text"}},[i("code",[t._v("windows_winrm_script: 'http://10.10.174.230/ConfigureRemotingForAnsible.ps1'\n")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"group-vars-win-worker-yml"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#group-vars-win-worker-yml","aria-hidden":"true"}},[this._v("#")]),this._v(" group_vars/win_worker.yml")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("There is a separate file in the "),e("code",[this._v("group_vars")]),this._v(" directory named "),e("code",[this._v("win_worker.yml")]),this._v(" for advanced, Windows-specific configuration. These variables are used in the following playbooks:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("playbooks/create_windows_vms.yml")]),this._v(" "),e("li",[this._v("playbooks/install_docker_window.yml")]),this._v(" "),e("li",[this._v("playbooks/scale_workers_win.yml")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Table 16.")]),this._v(" Advanced windows variables")])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[this._v("Variable")]),this._v(" "),e("th",{staticStyle:{"text-align":"left"}},[this._v("File")]),this._v(" "),e("th",{staticStyle:{"text-align":"left"}},[this._v("Description")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("ansible_user")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[i("strong",[t._v("group_vars/win_worker.yml")])]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("Defaults to the Windows user account "),i("code",[t._v("win_username")]),t._v(" as specified in "),i("code",[t._v("group_vars/vars")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("ansible_password")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[i("strong",[t._v("group_vars/win_worker.yml")])]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("Defaults to the Windows user password "),i("code",[t._v("win_password")]),t._v(" as specified in "),i("code",[t._v("group_vars/vault")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{staticStyle:{"text-align":"left"}},[this._v("ansible_port")]),this._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[this._v("group_vars/win_worker.yml")])]),this._v(" "),e("td",{staticStyle:{"text-align":"left"}},[this._v("5986")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{staticStyle:{"text-align":"left"}},[this._v("ansible_connection")]),this._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[this._v("group_vars/win_worker.yml")])]),this._v(" "),e("td",{staticStyle:{"text-align":"left"}},[this._v("winrm")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{staticStyle:{"text-align":"left"}},[this._v("ansible_winrm_server_cert_validation")]),this._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[this._v("group_vars/win_worker.yml")])]),this._v(" "),e("td",{staticStyle:{"text-align":"left"}},[this._v("Defaults to "),e("code",[this._v("ignore")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{staticStyle:{"text-align":"left"}},[this._v("ansible_winrm_operation_timeout_sec")]),this._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[this._v("group_vars/win_worker.yml")])]),this._v(" "),e("td",{staticStyle:{"text-align":"left"}},[this._v("Defaults to "),e("code",[this._v("250")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{staticStyle:{"text-align":"left"}},[this._v("ansible_winrm_read_timeout_sec")]),this._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[this._v("group_vars/win_worker.yml")])]),this._v(" "),e("td",{staticStyle:{"text-align":"left"}},[this._v("Defaults to "),e("code",[this._v("300")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{"text-align":"left"}},[e("strong",[this._v("group_vars/win_worker.yml")])])}],!1,null,null,null);a.options.__file="windows-config.md";e.default=a.exports}}]);