<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Getting started with Istio Service Mesh - Part 3 Telemetry including Prometheus, Grafana, Jaeger, Kiali | HPE Express Containers</title>
    <meta name="description" content="Istio Service Mesh - Part 3 Telemetry including Prometheus, Grafana, Jaeger, Kiali">
    
    
    <link rel="preload" href="/Docker-SimpliVity/assets/css/styles.1e09661f.css" as="style"><link rel="preload" href="/Docker-SimpliVity/assets/js/app.1e09661f.js" as="script"><link rel="preload" href="/Docker-SimpliVity/assets/js/1.1ee0df0d.js" as="script"><link rel="prefetch" href="/Docker-SimpliVity/assets/css/24.styles.3f1a8cd4.css"><link rel="prefetch" href="/Docker-SimpliVity/assets/css/9.styles.d80f99dc.css"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/10.0519dfb7.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/100.7e7c797a.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/101.ceb496f3.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/102.ef4cd22f.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/103.04bb1d8f.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/104.bdbf87f6.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/105.8ddc2675.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/106.5eb7369f.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/107.6ee04838.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/108.f6775cf6.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/109.0bae7c07.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/11.e2bfaf3a.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/110.f8a83ac8.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/111.2c0a8ae3.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/12.f4645ffc.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/13.270fa099.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/14.ede0b9eb.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/15.9bd2b4e1.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/16.31ccd8d9.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/17.0f752102.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/18.6d3053de.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/19.769c4847.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/2.02d73b64.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/20.dedc9e53.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/21.caf68c74.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/22.66dec517.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/23.5059caa6.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/24.3f1a8cd4.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/25.87a5e54b.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/26.c9034f20.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/27.9d5d8050.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/28.5a3b67ad.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/29.489b60c2.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/3.c135f3df.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/30.01f5a9be.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/31.911bdebc.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/32.f056b105.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/33.9c125410.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/34.6b7aa929.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/35.4200090e.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/36.1478c050.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/37.2e3af121.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/38.5d75c20c.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/39.7bb9cb9e.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/4.8ed2ab3d.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/40.a6c08d31.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/41.cf474b58.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/42.63d764b7.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/43.cdbffe6f.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/44.8d5c070b.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/45.d1c8e105.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/46.7b50d4ff.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/47.6dbd847f.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/48.90427520.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/49.cc6d8b0e.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/5.916c2ac0.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/50.64f641a8.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/51.84466be5.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/52.dee86026.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/53.f35b18c4.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/54.6692960c.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/55.fcec21db.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/56.648b3acc.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/57.0da832fd.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/58.1bc67f8b.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/59.087dcff8.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/6.c80f761b.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/60.b64416b9.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/61.90291322.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/62.b3cc64d4.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/63.10a38df4.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/64.50afc39a.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/65.2c9c590d.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/66.c45403f3.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/67.65a32d01.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/68.1f5bc42d.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/69.3b2d57e7.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/7.7584fb60.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/70.13f7d909.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/71.62883c10.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/72.b197fc1c.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/73.a1bec660.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/74.1f803515.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/75.b05f6f42.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/76.8f320b11.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/77.0834e4f3.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/78.2b73a088.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/79.e1885384.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/8.36ebe21b.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/80.205430cd.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/81.49d55050.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/82.2720c2f8.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/83.b025f0cf.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/84.6fb0f73a.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/85.63ca60aa.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/86.c041d43c.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/87.4a29ed14.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/88.16b9d595.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/89.ff3ac337.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/9.d80f99dc.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/90.6fdc6256.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/91.b665001c.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/92.e85caa7d.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/93.9cd2296d.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/94.44c498cf.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/95.e4a9dc4a.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/96.5532531b.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/97.d2248b01.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/98.5979847e.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/99.1e13b8e5.js">
    <link rel="stylesheet" href="/Docker-SimpliVity/assets/css/24.styles.3f1a8cd4.css"><link rel="stylesheet" href="/Docker-SimpliVity/assets/css/9.styles.d80f99dc.css"><link rel="stylesheet" href="/Docker-SimpliVity/assets/css/styles.1e09661f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Docker-SimpliVity/" class="home-link router-link-active"><!----> <span class="site-name">HPE Express Containers</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Docker-SimpliVity/" class="nav-link">Home</a></div><div class="nav-item"><a href="/Docker-SimpliVity/blog/" class="nav-link router-link-active">Blog</a></div> <a href="https://github.com/HewlettPackard/Docker-Simplivity" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Docker-SimpliVity/" class="nav-link">Home</a></div><div class="nav-item"><a href="/Docker-SimpliVity/blog/" class="nav-link router-link-active">Blog</a></div> <a href="https://github.com/HewlettPackard/Docker-Simplivity" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>Introduction</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/Docker-SimpliVity/introduction.html" class="sidebar-link">Executive Summary</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Release notes</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Solution overview</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Solution components</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Preparing the environment</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Configuring the core components</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Overview of the playbooks</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Deploying core components</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Post deployment</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Configuring Storage</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Deploying Windows workers</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Deploying Sysdig monitoring</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Deploying Splunk</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Deploying Prometheus and Grafana on Kubernetes</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Deploying Prometheus and Grafana on Docker Swarm</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Backup and restore</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Solution lifecycle management</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Appendices</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="observability-and-metrics"><a href="#observability-and-metrics" aria-hidden="true" class="header-anchor">#</a> Observability and metrics</h1> <p>The three pillars of observability:</p> <ul><li>Logging</li> <li>Monitoring</li> <li>Distributed Tracing</li></ul> <p>This Istio demo supports observabilty using Prometheus and Grafana for monitoring, and Jaeger and Kiali for tracing.</p> <h1 id="load-generation"><a href="#load-generation" aria-hidden="true" class="header-anchor">#</a> Load generation</h1> <p>Before looking at metrics, it is helpful to generate a load on the application. In this instance, we will generate a load for 5 minutes using
the <code>istio/fortio</code> image, but other load generators are available and some are documented at the end of this
article.</p> <p>Connect to one of your Docker nodes and run the <code>fortio</code> image:</p> <div class="language- extra-class"><pre class="language-text"><code># ssh hpe-worker01 

# docker run istio/fortio load -t 5m -qps 5 http://hpe2-ucp01.am2.cloudra.local:33380/productpage
</code></pre></div><p>Alternatively, you could run the load from the Ansible controller using <code>kubectl</code>:</p> <div class="language- extra-class"><pre class="language-text"><code># kubectl run fortio --image=istio/fortio -- load -t 5m -qps 5 http://hpe2-ucp01.am2.cloudra.local:33380/productpage

deployment.apps/fortio created
</code></pre></div><p><strong>Note:</strong> The <code>docker</code> version of the command will stop as expected after 5 minutes.
However, the <code>kubectl</code> version will run forever, by default, as the pod will get restarted
automatically. While you can set <code>--restart='Never'</code>, it may be preferrable to set <code>--restart='OnFailure'</code>
as issues have been seen with the pod failing to access the URL immediately after it has started. Ideally,
you would create a <code>CronJob</code> resource for such a run-once operation.</p> <h1 id="querying-metrics-from-prometheus"><a href="#querying-metrics-from-prometheus" aria-hidden="true" class="header-anchor">#</a> Querying Metrics from Prometheus</h1> <p>The following query shows the requests to the various services (<code>productpage</code>, <code>details</code>, <code>ratings</code>, <code>reviews</code>) building
up over the 5 minute duration of the load test. (Prometheus is available on port <code>33090</code> on any node in the cluster,  based on the original configuration).</p> <p><img src="/Docker-SimpliVity/assets/img/prom-load.a3355682.png" alt="Prometheus load" title="Figure: Prometheus load"></p> <p><strong>Figure.</strong> Prometheus load</p> <h1 id="vizualizing-metrics-with-grafana"><a href="#vizualizing-metrics-with-grafana" aria-hidden="true" class="header-anchor">#</a> Vizualizing Metrics with Grafana</h1> <p>The demo deploys a number of Grafana dashboards for visualizing various aspects of application. (Grafana is available on port <code>33080</code> on any node in the cluster,  based on the original configuration).</p> <h2 id="mesh-dashboard"><a href="#mesh-dashboard" aria-hidden="true" class="header-anchor">#</a> Mesh dashboard</h2> <p><img src="/Docker-SimpliVity/assets/img/istio-mesh.7f403db5.png" alt="Istio Mesh Dashboard" title="Figure: Istio Mesh Dashboard"></p> <p><strong>Figure.</strong> Istio Mesh Dashboard</p> <p>This gives the global view of the Mesh along with services and workloads in the mesh. You can get more details about services and workloads by navigating to their specific dashboards as explained below.</p> <h2 id="service-dashboard"><a href="#service-dashboard" aria-hidden="true" class="header-anchor">#</a> Service dashboard</h2> <p><img src="/Docker-SimpliVity/assets/img/istio-service.86075562.png" alt="Istio Service Dashboard" title="Figure: Istio Service Dashboard"></p> <p><strong>Figure.</strong> Istio Service Dashboard</p> <p>This gives details about metrics for the service and then client workloads (workloads that are calling this service) and service workloads (workloads that are providing this service) for that service.</p> <h2 id="workload-dashboard"><a href="#workload-dashboard" aria-hidden="true" class="header-anchor">#</a> Workload dashboard</h2> <p><img src="/Docker-SimpliVity/assets/img/istio-workload.1b7e1dd2.png" alt="Istio Workload Dashboard" title="Figure: Istio Workload Dashboard"></p> <p><strong>Figure.</strong> Istio Workload Dashboard</p> <p>This gives details about metrics for each workload and then inbound workloads (workloads that are sending request to this workload) and outbound services (services to which this workload send requests) for that workload.</p> <h2 id="performance-dashboard"><a href="#performance-dashboard" aria-hidden="true" class="header-anchor">#</a> Performance dashboard</h2> <p><img src="/Docker-SimpliVity/assets/img/istio-performance.5000a623.png" alt="Istio Performance Dashboard" title="Figure: Istio Performance Dashboard"></p> <p><strong>Figure.</strong> Istio Performance Dashboard</p> <h2 id="mixer-dashboard"><a href="#mixer-dashboard" aria-hidden="true" class="header-anchor">#</a> Mixer dashboard</h2> <p><img src="/Docker-SimpliVity/assets/img/istio-mixer.56cb8c9e.png" alt="Istio Mixer Dashboard" title="Figure: Istio Mixer Dashboard"></p> <p><strong>Figure.</strong> Istio Mixer Dashboard</p> <h2 id="galley-dashboard"><a href="#galley-dashboard" aria-hidden="true" class="header-anchor">#</a> Galley dashboard</h2> <p><img src="/Docker-SimpliVity/assets/img/istio-galley.c537d767.png" alt="Istio Galley Dashboard" title="Figure: Istio Galley Dashboard"></p> <p><strong>Figure.</strong> Istio Galley Dashboard</p> <h2 id="pilot-dashboard"><a href="#pilot-dashboard" aria-hidden="true" class="header-anchor">#</a> Pilot dashboard</h2> <p><img src="/Docker-SimpliVity/assets/img/istio-pilot.88278b1a.png" alt="Istio Pilot Dashboard" title="Figure: Istio Pilot Dashboard"></p> <p><strong>Figure.</strong> Istio Pilot Dashboard</p> <h1 id="using-jaeger-for-distributed-tracing"><a href="#using-jaeger-for-distributed-tracing" aria-hidden="true" class="header-anchor">#</a> Using Jaeger for distributed tracing</h1> <p>Jaeger is a distributed tracing system released as open source by Uber Technologies. It is used for monitoring and troubleshooting microservices-based distributed systems, including:</p> <ul><li>Distributed context propagation</li> <li>Distributed transaction monitoring</li> <li>Root cause analysis</li> <li>Service dependency analysis</li> <li>Performance / latency optimization</li></ul> <p>Jaeger is available on port <code>33086</code> on any node in the cluster,  based on the original configuration:</p> <p><img src="/Docker-SimpliVity/assets/img/jaeger-search.c81b46e8.png" alt="Jaeger search" title="Figure: Jaeger search"></p> <p><strong>Figure.</strong> Jaeger search</p> <p>Select the <code>productpage</code> service and click <code>Find Traces</code> (if necessary, set the <code>Loookback</code> field to cover the time period when you ran the load). An overview of the available traces is displayed:</p> <p><img src="/Docker-SimpliVity/assets/img/jaeger-traces.b0d64a45.png" alt="Jaeger traces" title="Figure: Jaeger traces"></p> <p><strong>Figure.</strong> Jaeger traces</p> <p>Click on a trace in the list to drill down into the timing details - you can see how the response time for
<code>productpage</code> is divided up between the individual <code>details</code>, <code>ratings</code> and <code>reviews</code> services:</p> <p><img src="/Docker-SimpliVity/assets/img/jaeger-drill-down.3c2f5546.png" alt="Jaeger drill down" title="Figure: Jaeger drill down"></p> <p><strong>Figure.</strong> Jaeger drill down</p> <h1 id="using-kiali-to-vizualize-the-service-mesh-topology"><a href="#using-kiali-to-vizualize-the-service-mesh-topology" aria-hidden="true" class="header-anchor">#</a> Using Kiali to vizualize the service mesh topology</h1> <p>Kiali works with Istio to visualize the service mesh topology, including features like circuit breakers or request rates. Kiali also includes Jaeger Tracing to provide distributed tracing out of the box. (Kiali is available
on port <code>330001</code> on any node in the cluster,  based on the original configuration. The default login is <code>admin</code> \ <code>admin</code>).</p> <p>The following image is a graph representation of the Bookinfo application, showing the three separate reviews services (no stars, black stars, red stars) used when a call is made for the product page.</p> <p><img src="/Docker-SimpliVity/assets/img/kiali-all.424db867.png" alt="Kiali graph" title="Figure: Kiali graph"></p> <p><strong>Figure.</strong> Kiali graph</p> <p>You can click on any edge in the graph to see how much traffic has traversed that particular route. In this case,
an equal amount of traffic will have gone to each of the three versions of the reviews service.</p> <h1 id="resources"><a href="#resources" aria-hidden="true" class="header-anchor">#</a> Resources</h1> <p><a href="https://www.linode.com/docs/tools-reference/tools/load-testing-with-siege/" target="_blank" rel="noopener noreferrer">Load testing with Siege<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language- extra-class"><pre class="language-text"><code># kubectl run siege --image=yokogawa/siege -- -d1 -r10 -c25 www.google.com
</code></pre></div><p><a href="https://github.com/progrium/docker-stress" target="_blank" rel="noopener noreferrer">Progrium stress<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language- extra-class"><pre class="language-text"><code>kubectl run stress --image=progrium/stress --cpu 2 --io 1 --vm 2 --vm-bytes 128M --timeout 1000s
</code></pre></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/HewlettPackard/Docker-Simplivity/edit/devel/docs-src/blog/istio-getting-started-3.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <!----> </div> <!----></div></div>
    <script src="/Docker-SimpliVity/assets/js/1.1ee0df0d.js" defer></script><script src="/Docker-SimpliVity/assets/js/app.1e09661f.js" defer></script>
  </body>
</html>
