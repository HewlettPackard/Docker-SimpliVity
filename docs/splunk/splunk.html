<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Monitoring with Splunk | HPE Express Containers</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/Docker-SimpliVity/assets/css/styles.8ae4f523.css" as="style"><link rel="preload" href="/Docker-SimpliVity/assets/js/app.8ae4f523.js" as="script"><link rel="preload" href="/Docker-SimpliVity/assets/js/17.7f7a759c.js" as="script"><link rel="prefetch" href="/Docker-SimpliVity/assets/css/19.styles.1dbeaabf.css"><link rel="prefetch" href="/Docker-SimpliVity/assets/css/5.styles.b4710372.css"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/1.9cb1c844.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/10.4c77ece7.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/100.8a2d776b.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/101.a3e117d1.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/102.90e183ae.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/103.c8e17786.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/104.b4cb674d.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/105.37e7c925.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/11.53e57d0a.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/12.165d386d.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/13.321bdfcd.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/14.c0cdb88b.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/15.5d48576f.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/16.2d1ca4a0.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/18.54391d85.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/19.1dbeaabf.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/2.a14e16da.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/20.152f22e2.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/21.aa9e1caf.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/22.ff055cc2.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/23.734ffd65.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/24.c3057e3c.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/25.6d5b1924.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/26.efdfeba1.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/27.5a5a57ff.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/28.0ae50273.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/29.2698371d.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/3.585e15d8.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/30.d948c85d.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/31.1d819163.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/32.73c91908.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/33.705308ae.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/34.b1c88172.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/35.5c1d8682.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/36.8a4333d5.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/37.2af77410.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/38.9950c289.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/39.26b12f27.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/4.040b7be7.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/40.f8b81b7d.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/41.3f261ea3.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/42.64d376fc.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/43.236cb9c5.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/44.95fe851b.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/45.1e79bf05.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/46.31be2cfc.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/47.43f78aff.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/48.27d24d54.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/49.7eae3446.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/5.b4710372.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/50.6876943a.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/51.01f98f95.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/52.145ed889.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/53.dd4fa5d2.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/54.d762e85e.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/55.56e7843e.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/56.8ec50036.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/57.b771ead3.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/58.991f2dad.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/59.c31fd11a.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/6.3c09b3dd.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/60.fdaf3f79.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/61.d7f47500.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/62.b8753d8d.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/63.5fac4737.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/64.f7652ffe.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/65.245bd1ef.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/66.3e6143cf.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/67.b7e233c4.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/68.e2b43762.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/69.4f2d7a32.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/7.0a1ba327.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/70.037dedde.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/71.3550041c.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/72.570e63aa.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/73.dbb5f820.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/74.8d5d9371.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/75.8fe2caa5.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/76.d0472d5b.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/77.7895d669.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/78.49616b1c.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/79.db8ccca3.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/8.3d4d5a6a.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/80.945b0790.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/81.b5555a9f.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/82.111e42c4.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/83.cc92adae.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/84.6a539bb9.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/85.9e65bdaf.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/86.ce4d96b0.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/87.e41fd167.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/88.f580267a.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/89.29071d94.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/9.88bac5b6.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/90.b0fb7e7b.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/91.ac828271.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/92.c785c4ae.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/93.a2a708d0.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/94.ffa4d735.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/95.d2cabb49.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/96.f1bbc347.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/97.d6a0496c.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/98.54a1c7d3.js"><link rel="prefetch" href="/Docker-SimpliVity/assets/js/99.f2e22bac.js">
    <link rel="stylesheet" href="/Docker-SimpliVity/assets/css/19.styles.1dbeaabf.css"><link rel="stylesheet" href="/Docker-SimpliVity/assets/css/5.styles.b4710372.css"><link rel="stylesheet" href="/Docker-SimpliVity/assets/css/styles.8ae4f523.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Docker-SimpliVity/" class="home-link router-link-active"><!----> <span class="site-name">HPE Express Containers</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Docker-SimpliVity/" class="nav-link">Home</a></div><div class="nav-item"><a href="/Docker-SimpliVity/blog/" class="nav-link">Blog</a></div> <a href="https://github.com/HewlettPackard/Docker-Simplivity" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Docker-SimpliVity/" class="nav-link">Home</a></div><div class="nav-item"><a href="/Docker-SimpliVity/blog/" class="nav-link">Blog</a></div> <a href="https://github.com/HewlettPackard/Docker-Simplivity" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>Introduction</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Release notes</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Solution overview</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Solution components</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Preparing the environment</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Configuring the core components</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Overview of the playbooks</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Deploying core components</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Post deployment</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Configuring Storage</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Deploying Windows workers</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Deploying Sysdig monitoring</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Deploying Splunk</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/Docker-SimpliVity/splunk/splunk.html" class="active sidebar-link">Monitoring with Splunk</a></li><li><a href="/Docker-SimpliVity/splunk/install-splunk.html" class="sidebar-link">Playbooks for installing Splunk</a></li><li><a href="/Docker-SimpliVity/splunk/monitoring-config-splunk.html" class="sidebar-link">Splunk configuration</a></li><li><a href="/Docker-SimpliVity/splunk/splunk-ui.html" class="sidebar-link">Accessing Splunk UI</a></li><li><a href="/Docker-SimpliVity/splunk/redeploying-splunk-demo.html" class="sidebar-link">Redeploying Splunk demo</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Deploying Prometheus and Grafana on Kubernetes</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Deploying Prometheus and Grafana on Docker Swarm</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Backup and restore</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Solution lifecycle management</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Appendices</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="monitoring-with-splunk"><a href="#monitoring-with-splunk" aria-hidden="true" class="header-anchor">#</a> Monitoring with Splunk</h1> <p>Splunk Enterprise allows you to collect and index any data from any source, and to monitor systems and infrastructure in real time to preempt issues before they happen. It allows you to analyze your data to understand trends, patterns of activity and behavior, giving you valuable intelligence across your entire organization.</p> <p>This solution allows you to integrate your Containers-as-a-Service (CaaS) deployment with an existing Splunk Enterprise installation or to deploy a stand-alone Splunk Enterprise demo environment as a Docker stack in your cloud. In both instances, Universal Forwarders are used to collect data from your applications running on your Linux and Windows worker nodes in your cloud, as well as log data from the Docker platform itself and from the infrastructure VMs and servers. The following diagram shows the Splunk architecture.</p> <p><img src="/Docker-SimpliVity/assets/img/splunk-architecture.2ac95262.png" alt=" "Splunk architecture"" title="Figure 12. Splunk architecture"></p> <p><strong>Figure 12.</strong> Splunk architecture</p> <p>All the Universal Forwarders run natively on the operating system to allow greater flexibility in terms of configuration options. Each forwarder sends the data it collects to one or more indexers in the central Splunk.</p> <p><strong>Linux worker nodes:</strong> The Universal Forwarders on the Linux worker nodes collect log and metrics data. The log data includes:</p> <ul><li><code>/var/log/messages</code> from the Docker host (including the daemon engine logs)</li> <li><code>/var/log/secure</code> from the Docker hosts</li> <li>container logs via a Splunk technical add-on</li></ul> <p>The metrics data is collected via a technical add-on and includes:</p> <ul><li><code>docker stats</code></li> <li><code>docker top</code></li> <li><code>docker events</code></li> <li><code>docker service stats</code></li></ul> <p><strong>Windows worker nodes:</strong> The Universal Forwarders running on the Windows worker nodes collect the following data:</p> <ul><li>Windows logs</li> <li>CPU stats</li> <li>Memory stats</li> <li>Network Interface stats</li> <li>and more</li></ul> <p>For more information on configuring standalone Splunk for Linux and Windows worker nodes, see the section on <a href="#">Splunk prerequisites</a>.</p> <p><strong>UCP and ESXi:</strong> UCP operational logs and ESXi logs are forwarded to the logger VM via TCP ports 1514 and 514 respectively. Port 1514 is assigned a special <code>sourcetype</code> of <code>ucp</code> which is then used by the Splunk Docker APP to interpret UCP logs. The Universal Forwarder runs the rsyslog daemon which will record the log messages coming from the ESX machines into the <code>/var/log/messages</code> file on the VM.</p> <p><strong>Non-Docker VMs:</strong> Other VMs, for example, NFS, use a Splunk <code>monitor</code> to collect and forward data from the following files:</p> <ul><li>/var/log/messages</li> <li>/var/log/secure (Red Hat)</li></ul> <p><strong>Note:</strong> You can configure the list of files monitored by the Universal Forwarder.</p> <p>Other syslog senders can be configured to send their data to the logger VM or directly to central Splunk.</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/gabrielmcg/vp-netlify-test/edit/master/splunk/splunk.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/Docker-SimpliVity/sysdig/deploying-sysdig-swarm.html" class="prev">
          Deploying Sysdig monitoring on Docker Swarm
        </a></span> <span class="next"><a href="/Docker-SimpliVity/splunk/install-splunk.html">
          Playbooks for installing Splunk
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/Docker-SimpliVity/assets/js/17.7f7a759c.js" defer></script><script src="/Docker-SimpliVity/assets/js/app.8ae4f523.js" defer></script>
  </body>
</html>
